{"version":3,"file":"component---src-templates-branch-colleges-tsx-1523e6df48329774e723.js","mappings":"wOA+FA,UAlE4C,SAAC,GAAqB,IAAnBA,EAAkB,EAAlBA,YACrCC,EAAmBD,EAAnBC,KAAMC,EAAaF,EAAbE,SACd,GAAoCC,EAAAA,EAAAA,UAAS,IAAtCC,EAAP,KAAmBC,EAAnB,KACMC,GAAiBC,EAAAA,EAAAA,UAAQ,WAE7B,OAAOL,EAASM,MAAK,SAACC,EAAGC,GACvB,IAAMC,EAAQF,EAAER,KAAKW,cACfC,EAAQH,EAAET,KAAKW,cACrB,OAAID,EAAQE,GACF,EAENF,EAAQE,EACH,EAEF,OAER,CAACX,IAEEY,GAAeC,EAAAA,EAAAA,cACnB,SAACC,GACCX,EAAcW,EAAMC,OAAOC,SAE7B,CAACb,IAGGc,GAAmBZ,EAAAA,EAAAA,UAAQ,WAE/B,OAAOD,EAAec,QAAO,SAACC,GAC5B,OACEA,EAAQpB,KAAKW,cAAcU,SAASlB,EAAWQ,gBAC/CS,EAAQE,KAAKC,WAAWF,SAASlB,QAGpC,CAACE,EAAgBF,IAEpB,OACEqB,EAAAA,cAACC,EAAAA,EAAD,CAAQC,YAAa1B,EAAM2B,SAAS,YAAYC,cAAY,GAC1DJ,EAAAA,cAACK,EAAAA,EAAD,KACEL,EAAAA,cAACM,EAAAA,EAAD,CACEC,GAAG,kBACHC,MAAM,8BACNC,KAAK,SACLC,QAAQ,SACRC,SAAUtB,EACVuB,WAAS,KAGbZ,EAAAA,cAACa,EAAAA,EAAD,KACGnB,EAAiBoB,KAAI,SAAClB,GACrB,OACEI,EAAAA,cAACe,EAAAA,SAAD,CAAUC,IAAKpB,EAAQW,IACrBP,EAAAA,cAACiB,EAAAA,GAAD,CAAUC,gBAAc,GACtBlB,EAAAA,cAACmB,EAAAA,EAAD,CAAgBC,UAAWC,EAAAA,KAAMC,GAAE,GAAK1B,EAAQE,MAC9CE,EAAAA,cAACuB,EAAAA,EAAD,CAAcC,QAAY5B,EAAQpB,KAAb,KAAsBoB,EAAQE,KAA9B,IACrB2B,UAAW7B,EAAQ8B,SAGvB1B,EAAAA,cAAC2B,EAAAA,EAAD","sources":["webpack://tnea-webview-app/./src/templates/branch-colleges.tsx"],"sourcesContent":["import React, {\n  ChangeEvent,\n  Fragment,\n  useCallback,\n  useMemo,\n  useState,\n} from \"react\";\nimport { Link } from \"gatsby\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport TextField from \"@mui/material/TextField\";\nimport Box from \"@mui/material/Box\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Divider from \"@mui/material/Divider\";\nimport Layout from \"../components/layout\";\n\ntype DataProps = {\n  pageContext: {\n    name: string;\n    colleges: {\n      id: string;\n      name: string;\n      code: string;\n      city: string;\n    }[];\n  };\n};\n\nconst BranchColleges: React.FC<DataProps> = ({ pageContext }) => {\n  const { name, colleges } = pageContext;\n  const [searchText, setSearchText] = useState(\"\");\n  const sortedColleges = useMemo(() => {\n    // sort college by lowercase name\n    return colleges.sort((a, b) => {\n      const nameA = a.name.toLowerCase();\n      const nameB = b.name.toLowerCase();\n      if (nameA < nameB) {\n        return -1;\n      }\n      if (nameA > nameB) {\n        return 1;\n      }\n      return 0;\n    });\n  }, [colleges]);\n\n  const handleChange = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      setSearchText(event.target.value);\n    },\n    [setSearchText]\n  );\n\n  const filteredColleges = useMemo(() => {\n    // filter college by name or code\n    return sortedColleges.filter((college) => {\n      return (\n        college.name.toLowerCase().includes(searchText.toLowerCase()) ||\n        college.code.toString().includes(searchText)\n      );\n    });\n  }, [sortedColleges, searchText]);\n\n  return (\n    <Layout headerTitle={name} backLink=\"/branches\" shouldGoBack>\n      <Box>\n        <TextField\n          id=\"standard-search\"\n          label=\"Search College Name or Code\"\n          type=\"search\"\n          variant=\"filled\"\n          onChange={handleChange}\n          fullWidth\n        />\n      </Box>\n      <List>\n        {filteredColleges.map((college) => {\n          return (\n            <Fragment key={college.id}>\n              <ListItem disablePadding>\n                <ListItemButton component={Link} to={`${college.code}`}>\n                  <ListItemText primary={`${college.name} (${college.code})`}\n                  secondary={college.city} />\n                </ListItemButton>\n              </ListItem>\n              <Divider />\n            </Fragment>\n          );\n        })}\n      </List>\n    </Layout>\n  );\n};\n\nexport default BranchColleges;\n"],"names":["pageContext","name","colleges","useState","searchText","setSearchText","sortedColleges","useMemo","sort","a","b","nameA","toLowerCase","nameB","handleChange","useCallback","event","target","value","filteredColleges","filter","college","includes","code","toString","React","Layout","headerTitle","backLink","shouldGoBack","Box","TextField","id","label","type","variant","onChange","fullWidth","List","map","Fragment","key","ListItem","disablePadding","ListItemButton","component","Link","to","ListItemText","primary","secondary","city","Divider"],"sourceRoot":""}