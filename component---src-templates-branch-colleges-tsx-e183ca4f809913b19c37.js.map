{"version":3,"file":"component---src-templates-branch-colleges-tsx-e183ca4f809913b19c37.js","mappings":"wOA+FA,UAhE4CA,IAAmB,IAAlB,YAACC,GAAYD,EACxD,MAAM,KAACE,EAAI,SAAEC,GAAYF,GACnB,EAACG,EAAU,EAAEC,IAAiBC,EAAAA,EAAAA,UAAS,IACvCC,GAAiBC,EAAAA,EAAAA,UAAQ,IAEtBL,EAASM,MAAK,CAACC,EAAGC,KACvB,MAAMC,EAAQF,EAAER,KAAKW,cACfC,EAAQH,EAAET,KAAKW,cACrB,OAAID,EAAQE,GACF,EAENF,EAAQE,EACH,EAEF,CAAC,KAET,CAACX,IAEEY,GAAeC,EAAAA,EAAAA,cAClBC,IACCZ,EAAcY,EAAMC,OAAOC,MAAM,GAEnC,CAACd,IAGGe,GAAmBZ,EAAAA,EAAAA,UAAQ,IAExBD,EAAec,QAAQC,GAE1BA,EAAQpB,KAAKW,cAAcU,SAASnB,EAAWS,gBAC/CS,EAAQE,KAAKC,WAAWF,SAASnB,MAGpC,CAACG,EAAgBH,IAEpB,OACEsB,EAAAA,cAACC,EAAAA,EAAM,CAACC,YAAa1B,EAAM2B,SAAS,YAAYC,cAAY,GAC1DJ,EAAAA,cAACK,EAAAA,EAAG,KACFL,EAAAA,cAACM,EAAAA,EAAS,CAACC,GAAG,kBACZC,MAAM,8BACNC,KAAK,SACLC,QAAQ,SACRC,SAAUtB,EACVuB,WAAS,KAEbZ,EAAAA,cAACa,EAAAA,EAAI,KACFnB,EAAiBoB,KAAKlB,GAEnBI,EAAAA,cAACe,EAAAA,SAAQ,CAACC,IAAKpB,EAAQW,IACrBP,EAAAA,cAACiB,EAAAA,GAAQ,CAACC,gBAAc,GACtBlB,EAAAA,cAACmB,EAAAA,EAAc,CAACC,UAAWC,EAAAA,KAAMC,GAAE,IAAM1B,EAAQE,MAC/CE,EAAAA,cAACuB,EAAAA,EAAY,CAACC,QAAY5B,EAAQpB,KAAI,KAAKoB,EAAQE,KAAI,IACrD2B,UAAW7B,EAAQ8B,SAGzB1B,EAAAA,cAAC2B,EAAAA,EAAO,UAKT,C","sources":["webpack://tnea-webview-app/./src/templates/branch-colleges.tsx"],"sourcesContent":["import React, {\n  ChangeEvent,\n  Fragment,\n  useCallback,\n  useMemo,\n  useState,\n} from 'react';\n\nimport Box from '@mui/material/Box';\nimport Divider from '@mui/material/Divider';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemText from '@mui/material/ListItemText';\nimport TextField from '@mui/material/TextField';\nimport {Link} from 'gatsby';\n\nimport Layout from '../components/layout';\n\ntype DataProps = {\n  pageContext: {\n    name: string;\n    colleges: {\n      id: string;\n      name: string;\n      code: string;\n      city: string;\n    }[];\n  };\n};\n\nconst BranchColleges: React.FC<DataProps> = ({pageContext}) => {\n  const {name, colleges} = pageContext;\n  const [searchText, setSearchText] = useState('');\n  const sortedColleges = useMemo(() => {\n    // sort college by lowercase name\n    return colleges.sort((a, b) => {\n      const nameA = a.name.toLowerCase();\n      const nameB = b.name.toLowerCase();\n      if (nameA < nameB) {\n        return -1;\n      }\n      if (nameA > nameB) {\n        return 1;\n      }\n      return 0;\n    });\n  }, [colleges]);\n\n  const handleChange = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      setSearchText(event.target.value);\n    },\n    [setSearchText]\n  );\n\n  const filteredColleges = useMemo(() => {\n    // filter college by name or code\n    return sortedColleges.filter((college) => {\n      return (\n        college.name.toLowerCase().includes(searchText.toLowerCase()) ||\n        college.code.toString().includes(searchText)\n      );\n    });\n  }, [sortedColleges, searchText]);\n\n  return (\n    <Layout headerTitle={name} backLink=\"/branches\" shouldGoBack>\n      <Box>\n        <TextField id=\"standard-search\"\n          label=\"Search College Name or Code\"\n          type=\"search\"\n          variant=\"filled\"\n          onChange={handleChange}\n          fullWidth/>\n      </Box>\n      <List>\n        {filteredColleges.map((college) => {\n          return (\n            <Fragment key={college.id}>\n              <ListItem disablePadding>\n                <ListItemButton component={Link} to={`/${college.code}`}>\n                  <ListItemText primary={`${college.name} (${college.code})`}\n                    secondary={college.city} />\n                </ListItemButton>\n              </ListItem>\n              <Divider />\n            </Fragment>\n          );\n        })}\n      </List>\n    </Layout>\n  );\n};\n\nexport default BranchColleges;\n"],"names":["_ref","pageContext","name","colleges","searchText","setSearchText","useState","sortedColleges","useMemo","sort","a","b","nameA","toLowerCase","nameB","handleChange","useCallback","event","target","value","filteredColleges","filter","college","includes","code","toString","React","Layout","headerTitle","backLink","shouldGoBack","Box","TextField","id","label","type","variant","onChange","fullWidth","List","map","Fragment","key","ListItem","disablePadding","ListItemButton","component","Link","to","ListItemText","primary","secondary","city","Divider"],"sourceRoot":""}